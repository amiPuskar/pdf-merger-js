<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Book Builder</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-merger-js/3.0.0/pdf-merger-js.min.js"></script>
    <script>
        // Fallback for PDFMerger if CDN fails
        if (typeof PDFMerger === 'undefined') {
            console.warn('PDFMerger CDN failed, trying alternative...');
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/pdf-merger-js@3.0.0/dist/pdf-merger-js.min.js';
            script.onload = function() {
                console.log('PDFMerger loaded from alternative CDN');
            };
            script.onerror = function() {
                console.error('Failed to load PDFMerger from all sources');
            };
            document.head.appendChild(script);
        }
    </script>
</head>
<body>
    <div class="container">
        <div class="main-layout">
            <!-- Left Side - Accordion Groups -->
            <div class="left-panel">
                <div class="accordion-group">
                    <div class="accordion-header" 
                         data-group="local-fixed" 
                         role="button" 
                         tabindex="0" 
                         aria-expanded="false" 
                         aria-controls="local-fixed"
                         aria-label="Local Fixed Routes accordion">
                        <span class="group-title">Local Fixed Routes</span>
                        <span class="expand-icon" aria-hidden="true"></span>
                    </div>
                    <div class="accordion-content" id="local-fixed">
                        <!-- PDF items will be generated by JavaScript -->
                    </div>
                </div>

                <div class="accordion-group">
                    <div class="accordion-header" 
                         data-group="community-routes" 
                         role="button" 
                         tabindex="0" 
                         aria-expanded="false" 
                         aria-controls="community-routes"
                         aria-label="Community Routes accordion">
                        <span class="group-title">Community Routes</span>
                        <span class="expand-icon" aria-hidden="true"></span>
                    </div>
                    <div class="accordion-content" id="community-routes">
                        <div class="pdf-item" data-pdf="community-route-1.pdf">
                            <span class="pdf-name">Community Route 1</span>
                            <span class="add-icon">+</span>
                        </div>
                        <div class="pdf-item" data-pdf="community-route-2.pdf">
                            <span class="pdf-name">Community Route 2</span>
                            <span class="add-icon">+</span>
                        </div>
                        <div class="pdf-item" data-pdf="community-route-3.pdf">
                            <span class="pdf-name">Community Route 3</span>
                            <span class="add-icon">+</span>
                        </div>
                    </div>
                </div>

                <div class="accordion-group">
                    <div class="accordion-header" 
                         data-group="express-routes" 
                         role="button" 
                         tabindex="0" 
                         aria-expanded="false" 
                         aria-controls="express-routes"
                         aria-label="Express Routes accordion">
                        <span class="group-title">Express Routes</span>
                        <span class="expand-icon" aria-hidden="true"></span>
                    </div>
                    <div class="accordion-content" id="express-routes">
                        <div class="pdf-item" data-pdf="express-route-1.pdf">
                            <span class="pdf-name">Express Route 1</span>
                            <span class="add-icon">+</span>
                        </div>
                        <div class="pdf-item" data-pdf="express-route-2.pdf">
                            <span class="pdf-name">Express Route 2</span>
                            <span class="add-icon">+</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Side - My PDF Book -->
            <div class="right-panel">
                <div class="pdf-book-header">
                    <h2>My PDF Book</h2>
                </div>
                <div class="selected-pdfs" id="selected-pdfs">
                    <div class="empty-state">No PDFs selected</div>
                </div>
                <div class="action-buttons">
                    <button id="download-btn" 
                            class="download-btn" 
                            disabled 
                            aria-label="Download merged PDF book">
                        Download My PDF Book
                    </button>
                    <button id="clear-all" 
                            class="clear-link" 
                            aria-label="Clear all selected PDFs">
                        Clear All
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>